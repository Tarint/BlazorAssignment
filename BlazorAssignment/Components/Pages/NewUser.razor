@page "/newusers"
@rendermode InteractiveServer

<PageTitle>New User</PageTitle>

<h1>New User</h1>

@if (_displayForm)
{
    <EditForm Model="user" OnValidSubmit="ValidSubmissionAsync">
        <div>

        </div>
        <DataAnnotationsValidator />
        <p>* is Required</p>

        <label>User Name <br />
        <InputText @bind-Value="user.UserName" placeholder="User Name" />
        <ValidationMessage For="@(() => user.UserName)" />
        </label><br /><br />

        <label>*Name<br />
        <InputText @bind-Value="user.Name" placeholder="Full Name"/>
        <ValidationMessage For="@(() => user.Name)" />
        </label><br /><br />

        <label>Email<br />
        <InputText @bind-Value="user.Email" placeholder="Email"/>
        </label>

        <label>Phone Number <br />
        <InputText @bind-Value="user.PhoneNumber" placeholder="Phone Number"/>
        <ValidationMessage For="@(() => user.PhoneNumber)" />
        </label><br /><br />
         

        <label><b>Home Adress</b></label><br />

        <label>Street<br />
        <InputText @bind-Value="user.Adress.Street" placeholder="Street Name" />
        </label>

        <label>City<br />
        <InputText @bind-Value="user.Adress.City" placeholder="City" />
        </label>

        <label>Zipcode <br />
        <InputText @bind-Value="user.Adress.Zipcode" placeholder="Zipcode" />
        <ValidationMessage For="@(() => user.Adress.Zipcode)" />
        </label><br /><br />


        <label><b>Company</b></label><br />

        <label>Company Name<br />
        <InputText @bind-Value="user.Commpany.CompanyName" placeholder="Company Name" />
        </label>

        <label>Catchphrase<br />
        <InputText @bind-Value="user.Commpany.CompanyCatchphrase" placeholder="Catchphrase" />
        </label><br /><br />

        <button type="submit">Submit</button>
        <br /><br />
    </EditForm>
}
else
{
    <p>Thank you @_nameToDisplay. Your information has been sucsessfully saves.</p>
}